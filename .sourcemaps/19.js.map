{"version":3,"sources":["../../src/pages/audio-record/audio-record.module.ts","../../src/pages/audio-record/audio-record.ts"],"names":[],"mappings":"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","file":"19.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AudioRecordPage } from './audio-record';\n\n@NgModule({\n  declarations: [\n    AudioRecordPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AudioRecordPage),\n  ],\n})\nexport class AudioRecordPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/audio-record/audio-record.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\nimport { Media, MediaObject } from '@ionic-native/media';\nimport { File } from '@ionic-native/file';\n\n/**\n * Generated class for the AudioRecordPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-audio-record',\n  templateUrl: 'audio-record.html',\n})\nexport class AudioRecordPage {\n\n  caseId: any;\n  inputDetails: any;\n  state: any = '';\n  audio: MediaObject;\n  fileName: string;\n  duration: any;\n  created: boolean = false;\n\n  constructor(public navCtrl: NavController, public viewCtrl: ViewController, public navParams: NavParams, private media: Media, private file: File) {\n    this.caseId = navParams.get('caseId');\n    this.inputDetails = navParams.get('inputDetails');\n    this.fileName = this.inputDetails.name + '.aac';\n    this.audio = this.media.create(this.fileName);\n    this.listDir();\n    this.state = 'ready';\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad AudioRecordPage');\n  }\n\n  fileDidCreate(fileName, file: File) {\n    file.resolveLocalFilesystemUrl(file.externalRootDirectory + fileName)\n      .then(function(result) {\n        console.log('TEMP FILE IN', result);\n      })\n      .catch(error => console.log(\"ERROR IN TEMP\", error));\n  }\n\n  listDir() {\n    this.file.listDir(this.file.externalRootDirectory, '')\n      .then(function(list) {\n        console.log(\"list\", list);\n      }, function(err) {\n        console.log(err);\n      });\n  }\n\n  startRecord(audio: MediaObject) {\n    audio.startRecord();\n    console.log('Started Recording');\n    this.state = 'recording';\n    audio.onStatusUpdate.subscribe(status => console.log(\"STATUS: Record START Function\",status)); // fires when this.audio status changes\n    audio.onSuccess.subscribe(() => {\n      console.log('Started Recording');\n      this.state = 'recording';\n    });\n    audio.onError.subscribe(error => console.log('Record Start Error!', error));\n  }\n\n  stopRecord(audio: MediaObject) {\n    audio.stopRecord();\n    console.log('Stopped Recording');\n    this.state = 'recorded';\n    audio.onStatusUpdate.subscribe(status => console.log(\"STATUS: Record STOP Function\", status)); // fires when this.audio status changes\n    audio.onSuccess.subscribe(() => {\n      console.log('Stopped Recording');\n      this.state = 'recorded';\n    });\n    audio.onError.subscribe(error => console.log('Record Stop Error!', error));\n    this.created = true;\n    this.fileDidCreate(this.fileName, this.file);\n  }\n\n  play(audio: MediaObject) {\n    audio.play();\n    console.log('Playing Audio');\n    this.state = 'playing';\n    audio.onStatusUpdate.subscribe(status => console.log(\"STATUS: PLAY Function\", status)); // fires when this.audio status changes\n    audio.onSuccess.subscribe(() => {\n      console.log('Playing Audio');\n      this.state = 'playing';\n    });\n    audio.onError.subscribe(error => console.log('Audio Playback Error!', error));\n  }\n\n  pause(audio: MediaObject) {\n    audio.pause();\n    console.log('Audio Paused');\n    this.state = 'paused';\n    audio.onStatusUpdate.subscribe(status => console.log(\"STATUS: PAUSE Function\", status)); // fires when this.audio status changes\n    audio.onSuccess.subscribe(() => {\n      console.log('Audio Paused');\n      this.state = 'paused';\n    });\n    audio.onError.subscribe(error => console.log('Audio Pause Error!', error));\n    console.log(\"DURATION\",audio.getDuration());\n  }\n\n  cancel() {\n    this.viewCtrl.dismiss(false);\n  }\n\n  done(audio: MediaObject) {\n    if (!this.created || audio.getDuration() == -1) { return false; }\n    let params = {\n      \"created\": true,\n      \"duration\": audio.getDuration()\n    }\n    audio.release();\n    this.viewCtrl.dismiss(params);\n  }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/audio-record/audio-record.ts"],"sourceRoot":""}