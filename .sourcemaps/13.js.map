{"version":3,"sources":["../../src/pages/item-detail/item-detail.module.ts","../../src/pages/item-detail/item-detail.ts"],"names":[],"mappings":"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","file":"13.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { ItemDetailPage } from './item-detail';\n\n@NgModule({\n  declarations: [\n    ItemDetailPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ItemDetailPage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    ItemDetailPage\n  ]\n})\nexport class ItemDetailPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/item-detail/item-detail.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ModalController } from 'ionic-angular';\nimport { TranslateService } from '@ngx-translate/core';\nimport { MediaCapture, MediaFile, CaptureError, CaptureImageOptions, CaptureVideoOptions, CaptureAudioOptions } from '@ionic-native/media-capture';\nimport { File } from '@ionic-native/file';\n\nimport { Item } from '../../models/item';\nimport { Case } from '../../models/case';\nimport { CaseMedia } from '../../models/caseMedia';\nimport { Items } from '../../providers/providers';\nimport { CaseMediaProvider } from '../../providers/providers';\nimport { SpeechApi } from '../../providers/api/api';\n\nimport { Tab1Media } from '../pages';\nimport { Tab2Media } from '../pages';\nimport { Tab3Media } from '../pages';\nimport { Tab4Media } from '../pages';\n\n@IonicPage()\n@Component({\n  selector: 'page-item-detail',\n  templateUrl: 'item-detail.html'\n})\nexport class ItemDetailPage {\n\n  tab1Root: any = Tab1Media;\n  tab2Root: any = Tab2Media;\n  tab3Root: any = Tab3Media;\n  tab4Root: any = Tab4Media;\n\n  tab1Title = \"Images\";\n  tab2Title = \"Videos\";\n  tab3Title = \"Voice Memos\";\n  tab4Title = \"Notes\";\n\n  tabParams: any;\n\n  case: Case;\n  caseMedia: CaseMedia[] = [];\n\n\n  constructor(public navParams: NavParams, public caseMediaProvider: CaseMediaProvider,\n    public items: Items, public navCtrl: NavController, public modalCtrl: ModalController,\n    public mediaCapture: MediaCapture, public file: File, public speechApi: SpeechApi) {\n    this.case = navParams.get('item') || items.defaultItem;\n    caseMediaProvider.setCase(this.case);\n\n    this.caseMedia = caseMediaProvider.query();\n    this.updateTabParams();\n  }\n\n  addItem(mediaType) {\n    let addModal = this.modalCtrl.create('ItemCreatePage', {mode: mediaType});\n    addModal.onDidDismiss(item => {\n      if (item) {\n        console.log(\"media Type: \",mediaType);\n        //1. Construct JSON Details of Object\n        //OR Just send item to Cse Media Provider and construct JSON details there\n\n        //2. Call Media Recorder\n        //3. Record Media\n        //4. Send Media (and JSON Details) to Case Media Provider\n        if (mediaType == \"note\") {\n            this.caseMediaProvider.add(item, mediaType, this.caseMedia.length, this.takeNote());\n        } else if (mediaType != \"note\") {\n            //this.caseMediaProvider.add(item, mediaType, this.caseMedia.length, undefined ,this.record(mediaType));\n            this.record(mediaType, item, this.caseMedia.length, this.addAudio);\n        }\n        //this.items.add(item);\n      }\n    })\n    addModal.present();\n  }\n\n  updateTabParams() {\n    this.tabParams = {\n      case: this.case,\n      caseMedia: this.caseMedia,\n    };\n  }\n\n  record(mediaType, item, caseMediaLength, addAudio) {\n    switch(mediaType) {\n      case 'img': {\n        this.captureImage(mediaType, item, this.IVAcallback);\n        break;\n      }\n      case 'vid': {\n        this.recordVideo(mediaType, item, this.IVAcallback);\n        break;\n      }\n      case 'aud': {\n        this.AudioRecord(item, this.caseMedia, mediaType, this.addAudio, this.getBase64encoding, this.fileConvertAPIRequest,\n          this.GoogleSpeechAPIRequest, this.speechApi, this.file, this.shortRecogCallback, this.longRecogCallback, this.longResponseFinal)\n        //this.recordAudio(mediaType, item, this.IVAcallback);\n        break;\n      }\n    }\n  }\n\n  AudioRecord(inputDetails, caseMedia: CaseMedia[], mediaType, addAudio, getBase64encoding,\n    fileConvertAPIRequest, GoogleSpeechAPIRequestFn, speechApi: SpeechApi, file: File, shortRecogCallback,\n    longRecogCallback, longResponseFinal) {\n    let addModal = this.modalCtrl.create('AudioRecordPage',\n    { caseId: this.case.id,\n      inputDetails: inputDetails\n    });\n    addModal.onDidDismiss(item => {\n      if (item.created) {\n        console.log('audio added');\n        addAudio(inputDetails, caseMedia, mediaType, item.duration, getBase64encoding,\n          fileConvertAPIRequest, GoogleSpeechAPIRequestFn, speechApi, file, shortRecogCallback, longRecogCallback, longResponseFinal)\n      } else {\n        console.log('audio not added');\n      }\n    })\n    addModal.present();\n  }\n\n  addAudio(inputDetails, caseMedia: CaseMedia[], mediaType, duration, getBase64encoding, fileConvertAPIRequest, GoogleSpeechAPIRequestFn,\n    speechApi: SpeechApi, file: File, shortRecogCallback, longRecogCallback, longResponseFinal) {\n    let newItemAudio: any = {\n      \"id\": caseMedia.length+1,\n      \"name\": inputDetails.name,\n      \"type\": mediaType,\n      \"fullPath\": \"file:///storage/emulated/0/\" + inputDetails.name + \".aac\",\n      \"time\": inputDetails.time,\n      \"date\": inputDetails.date,\n      \"fileName\": inputDetails.name + \".aac\",\n      \"duration\": duration,\n      \"message\": inputDetails.about,\n      \"imgUrl\": inputDetails.profilePic\n    }\n\n    getBase64encoding(caseMedia, duration, inputDetails, fileConvertAPIRequest, GoogleSpeechAPIRequestFn, speechApi,\n      file, shortRecogCallback, longRecogCallback, longResponseFinal)\n\n    let newItemNote: any = {\n      \"id\": caseMedia.length+2,\n      \"name\": inputDetails.name + ' - note',\n      \"type\": 'note',\n      \"fullPath\": \"file:///storage/emulated/0/\" + inputDetails.name + \".aac\",\n      \"time\": inputDetails.time,\n      \"date\": inputDetails.date,\n      \"fileName\": inputDetails.name + \".aac\",\n      \"message\": inputDetails.about,\n      \"noteText\": \"\",\n      \"imgUrl\": inputDetails.profilePic\n    }\n  }\n\n  getBase64encoding (caseMedia: CaseMedia[], duration, inputDetails, fileConvertAPIRequest, GoogleSpeechAPIRequestFn, speechApi: SpeechApi,\n    file: File, shortRecogCallback, longRecogCallback, longResponseFinal) {\n    let audioPath: string = 'file:///storage/emulated/0';\n    file.readAsDataURL(audioPath, inputDetails.name + \".aac\")\n      .then(function(base64File) {\n            let split: any  = base64File.split(\"base64,\");\n            fileConvertAPIRequest(caseMedia, inputDetails, duration, base64File, GoogleSpeechAPIRequestFn,\n               speechApi, shortRecogCallback, longRecogCallback, longResponseFinal)\n            //GoogleSpeechAPIRequestFn(duration, split[1], speechApi, shortRecogCallback, longRecogCallback, longResponseFinal);\n      },  function(err) {\n            console.log(\"error Base 64 Encoding\", err);\n      });\n  }\n\n  fileConvertAPIRequest (caseMedia: CaseMedia[], inputDetails, duration, audioContentB64, GoogleSpeechAPIRequestFn,\n    speechApi: SpeechApi, shortRecogCallback, longRecogCallback, longResponseFinal) {\n      let fileConvertParams: any = {\n        conversion: [ {\n            category: \"audio\",\n            target: \"flac\",\n            options: { frequency: 16000 }\n          } ]\n      }\n\n      let JSONstringConvertParams: any = JSON.stringify(fileConvertParams);\n\n      speechApi.postConvertEmptyJob(caseMedia, inputDetails, JSONstringConvertParams, duration, audioContentB64, GoogleSpeechAPIRequestFn,\n        speechApi, shortRecogCallback, longRecogCallback, longResponseFinal);\n  }\n\n  GoogleSpeechAPIRequest (duration, audioContentB64, speechApi: SpeechApi, caseMedia: CaseMedia[], shortRecogCallback, longRecogCallback, longResponseFinal) {\n\n    let config: any = {\n      encoding:\"FLAC\", //May be optional\n      sampleRateHertz: 16000, //May be optional\n      languageCode: \"en-US\",\n      enableWordTimeOffsets: true\n    };\n\n    let audio: any =  {\n      content: audioContentB64\n    };\n\n    let params: any =  {\n      config: config,\n      audio: audio\n    };\n\n    let paramsJSONstring: any = JSON.stringify(params);\n\n    if (duration <= 59) {\n      speechApi.postShort(paramsJSONstring, shortRecogCallback, caseMedia);\n    } else {\n      speechApi.postLong(paramsJSONstring, longRecogCallback, speechApi.getOperationLong, longResponseFinal, caseMedia);\n    }\n  }\n\n  shortRecogCallback(response, caseMedia: CaseMedia[]) {\n    console.log(\"shortRecogCallback\",response);\n    console.log(\"Global Scope\", caseMedia);\n    let transcript: any  = response.transcript;\n    let words: any = response.words;\n  }\n\n  longRecogCallback(response, getOperationLong, longResponseFinal, caseMedia: CaseMedia[]) {\n    console.log(\"longRecogCallback\",response);\n    setTimeout(getOperationLong(response, longResponseFinal, caseMedia), 30000);\n  }\n\n  longResponseFinal(response, caseMedia: CaseMedia[]) {\n    console.log(\"longResponseFinal\",response);\n    let transcript: any  = response.transcript;\n    let words: any = response.words;\n  }\n\n  IVAcallback(mediaType, item, mediaFile: MediaFile) {\n    this.caseMediaProvider.add(item, mediaType, this.caseMedia.length, undefined , mediaFile);\n  }\n\n  captureImage(mediaType, item, callback) {\n    let imageData: MediaFile;\n    let options: CaptureImageOptions = { limit: 1 };\n    this.mediaCapture.captureImage(options)\n      .then(\n        (data: MediaFile[]) => {\n          console.log(data);\n          callback(mediaType, item, data[0]);\n        },\n        (err: CaptureError) => console.error(err)\n      );\n  }\n\n  recordVideo(mediaType, item, callback) {\n    let videoData: MediaFile;\n    let options: CaptureVideoOptions = { limit: 1 };\n    this.mediaCapture.captureVideo(options)\n    .then(\n      (data: MediaFile[]) => (data: MediaFile[]) => {\n        console.log(data);\n        callback(mediaType, item, data[0]);\n      },\n      (err: CaptureError) => console.error(err)\n    );\n  }\n\n  recordAudio(mediaType, item, callback) {\n    let audioData: MediaFile;\n    let options: CaptureAudioOptions = { limit: 1 };\n    this.mediaCapture.captureAudio(options)\n    .then(\n      (data: MediaFile[]) => (data: MediaFile[]) => {\n        console.log(data);\n        callback(mediaType, item, data[0]);\n      },\n      (err: CaptureError) => console.error(err)\n    );\n  }\n\n  takeNote() {\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/item-detail/item-detail.ts"],"sourceRoot":""}