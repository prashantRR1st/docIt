{"version":3,"sources":["../../src/pages/item-detail/item-detail.module.ts","../../src/pages/item-detail/item-detail.ts"],"names":[],"mappings":"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","file":"13.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { ItemDetailPage } from './item-detail';\n\n@NgModule({\n  declarations: [\n    ItemDetailPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ItemDetailPage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    ItemDetailPage\n  ]\n})\nexport class ItemDetailPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/item-detail/item-detail.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ModalController } from 'ionic-angular';\nimport { TranslateService } from '@ngx-translate/core';\nimport { MediaCapture, MediaFile, CaptureError, CaptureImageOptions, CaptureVideoOptions, CaptureAudioOptions } from '@ionic-native/media-capture';\n\nimport { Item } from '../../models/item';\nimport { Case } from '../../models/case';\nimport { CaseMedia } from '../../models/caseMedia';\nimport { Items } from '../../providers/providers';\nimport { CaseMediaProvider } from '../../providers/providers';\n\nimport { Tab1Media } from '../pages';\nimport { Tab2Media } from '../pages';\nimport { Tab3Media } from '../pages';\nimport { Tab4Media } from '../pages';\n\n@IonicPage()\n@Component({\n  selector: 'page-item-detail',\n  templateUrl: 'item-detail.html'\n})\nexport class ItemDetailPage {\n\n  tab1Root: any = Tab1Media;\n  tab2Root: any = Tab2Media;\n  tab3Root: any = Tab3Media;\n  tab4Root: any = Tab4Media;\n\n  tab1Title = \"Images\";\n  tab2Title = \"Videos\";\n  tab3Title = \"Voice Memos\";\n  tab4Title = \"Notes\";\n\n  tabParams: any;\n\n  case: Case;\n  caseMedia: CaseMedia[] = [];\n\n\n  constructor(public navParams: NavParams, public caseMediaProvider: CaseMediaProvider,\n    public items: Items, public navCtrl: NavController, public modalCtrl: ModalController,\n    public mediaCapture: MediaCapture) {\n    this.case = navParams.get('item') || items.defaultItem;\n    caseMediaProvider.setCase(this.case);\n\n    this.caseMedia = caseMediaProvider.query();\n    this.updateTabParams();\n  }\n\n  addItem(mediaType) {\n    let addModal = this.modalCtrl.create('ItemCreatePage', {mode: mediaType});\n    addModal.onDidDismiss(item => {\n      if (item) {\n        console.log(\"media Type: \",mediaType);\n        //1. Construct JSON Details of Object\n        //OR Just send item to Cse Media Provider and construct JSON details there\n\n        //2. Call Media Recorder\n        //3. Record Media\n        //4. Send Media (and JSON Details) to Case Media Provider\n        if (mediaType == \"note\") {\n            console.log(\"WTF\");\n            this.caseMediaProvider.add(item, mediaType, this.caseMedia.length, this.takeNote());\n        } else if (mediaType != \"note\") {\n            console.log(\"reached\");\n            //this.caseMediaProvider.add(item, mediaType, this.caseMedia.length, undefined ,this.record(mediaType));\n            this.record(mediaType, item);\n        }\n        //this.items.add(item);\n      }\n    })\n    addModal.present();\n  }\n\n  updateTabParams() {\n    this.tabParams = {\n      case: this.case,\n      caseMedia: this.caseMedia,\n    };\n  }\n\n  record(mediaType, item) {\n    switch(mediaType) {\n      case 'img': {\n        this.captureImage(mediaType, item, this.IVAcallback);\n      }\n      case 'vid': {\n        this.recordVideo(mediaType, item, this.IVAcallback);\n      }\n      case 'aud': {\n        this.recordAudio(mediaType, item, this.IVAcallback);\n      }\n    }\n  }\n\n  IVAcallback(mediaType, item, mediaFile: MediaFile) {\n    this.caseMediaProvider.add(item, mediaType, this.caseMedia.length, undefined , mediaFile);\n  }\n\n  captureImage(mediaType, item, callback) {\n    let imageData: MediaFile;\n    let options: CaptureImageOptions = { limit: 1 };\n    this.mediaCapture.captureImage(options)\n      .then(\n        (data: MediaFile[]) => {\n          console.log(data);\n          callback(mediaType, item, data[0]);\n        },\n        (err: CaptureError) => console.error(err)\n      );\n  }\n\n  recordVideo(mediaType, item, callback) {\n    let videoData: MediaFile;\n    let options: CaptureVideoOptions = { limit: 1 };\n    this.mediaCapture.captureVideo(options)\n    .then(\n      (data: MediaFile[]) => (data: MediaFile[]) => {\n        console.log(data);\n        callback(mediaType, item, data[0]);\n      },\n      (err: CaptureError) => console.error(err)\n    );\n  }\n\n  recordAudio(mediaType, item, callback) {\n    let audioData: MediaFile;\n    let options: CaptureAudioOptions = { limit: 1 };\n    this.mediaCapture.captureAudio(options)\n    .then(\n      (data: MediaFile[]) => (data: MediaFile[]) => {\n        console.log(data);\n        callback(mediaType, item, data[0]);\n      },\n      (err: CaptureError) => console.error(err)\n    );\n  }\n\n  takeNote() {\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/item-detail/item-detail.ts"],"sourceRoot":""}